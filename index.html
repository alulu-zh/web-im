<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, minimal-ui">
    <title>环信WebIM</title>
    <link rel="stylesheet" href="css/webim.css">
    <script src="js/sdk/strophe.js"></script>
    <script src="js/sdk/easemob.im-1.0.7.js"></script>
    <script src="js/lib/avalon.min.js"></script>
    <script src="js/lib/jquery.min.js"></script>
    <script src="js/easemob.im.js"></script>
    <!--[if lte IE 9]>
    <script src="js/sdk/swfupload/swfupload.js"></script>
    <script src="js/sdk/jplayer/jplayer.js"></script>
    <![endif]-->
</head>
<body>
    
    <div ms-controller='signin' ms-include='emimSignin' ms-visible='display'></div><!-- 登录界面 -->
    <div ms-controller='signup' ms-include='emimSignup' ms-visible='display'></div><!-- 注册界面 -->
    <div ms-controller='chat' ms-visible='display' ms-include='emimChat' class='emim-wrapper emim-auto'></div><!-- 聊天主界面 -->
    <div ms-controller='loading' ms-visible='display'><img src="img/waitting.gif"></div><!-- loading -->
    <div ms-controller='prompt' class='emim-prompt' ms-css-top='t'>{{content}}</div><!-- prompt -->
    <footer>© 2015 easemob</footer><!-- footer -->

    <!-- 登录界面 -->
    <script id='emimSignin' type='avalon'>
    <div class='emim-sign-bg emim-auto emim-mt50'>
        <h3 class='emim-w100 emim-center'>Sign In</h3>
        <input type='text' autofocus='autofocus' placeholder='Username' class='emim-db emim-auto emim-mt20' ms-duplex='username' ms-keydown='signin'>
        <input type='password' ms-attr-placeholder='port' class='emim-db emim-auto emim-mt20' ms-duplex='password' ms-keydown='signin'>
        <i ms-click='transfer'>{{content}}</i>
        <button class='emim-db emim-auto emim-mt50 emim-themebg emim-center' ms-click='signin'>Sign in</button>
        <button class='emim-db emim-auto emim-sign-btn emim-center emim-mt10' ms-click='showSignup'>Sign up</button>
    </div>
    </script>

    <!-- 注册界面 -->
    <script id='emimSignup' type='tpl'>
    <div class="emim-sign-bg emim-auto emim-mt50">
        <h3 class='emim-w100 emim-center'>Sign Up</h3>
        <input type='text' placeholder='Username' class='emim-db emim-auto emim-mt20' ms-duplex='username' ms-keydown='signup'>
        <input type='password' placeholder='Password' class='emim-db emim-auto emim-mt20' ms-duplex='password' ms-keydown='signup'>
        <input type='text' placeholder='Nickname' class='emim-db emim-auto emim-mt20' ms-duplex='nickname' ms-keydown='signup'>
        <button class='emim-db emim-auto emim-center emim-mt50 emim-themebg' ms-click='signup'>Sign Up</button>
        <div class='emim-signup-back' ms-click='back'></div>
    </div>
    </script>

    <!-- 聊天主界面 -->
    <script id='emimChat' type='tpl'>
    <div class='emim-chatLeft emim-fl'>
        <div class='emim-profile' ms-controller='profile' ms-include='emimProfile'></div>
        <div class='emim-list-tab' ms-include='emimListTab'></div>
        <div class='emim-list' ms-include='emimList'></div>
    </div>
    <div class='emim-chatRight'>
        <div class='emim-current-header' ms-controller='chatHeader' ms-include='emimChatHeader'>
            <span class='emim-chat-to'>{{to}}</span>
            <span class='emim-font emim-font-hover emim-chat-clear'>h</span>
        </div>
        <div class='emim-chat-wrapper' ms-controller='chatWrapper'></div>
        <div class='emim-chat-send' ms-include='emimSendWrapper'></div>
    </div>
    </script>

    <!-- 个人头像区 -->
    <script id='emimProfile' type='tpl'>
    <img class='emim-avatar emim-profile-avatar' ms-attr-src='src' />
    <span class='emim-profile-username'>{{username}}</span>
    <span class='emim-font emim-font-hover emim-profile-dropdown' ms-click='toggle'>g</span>
    <ul class='emim-dropdown-menu' ms-visible='display'>
        <li ms-click='dialog'>添加好友</li>
        <li ms-click='dialog'>删除好友</li>
        <li ms-click='logout'>退出</li>
    </ul>
    </script>

    <!-- 列表tab -->
    <script id='emimListTab' type='tpl'>
    <ol ms-controller='tab'>
        <li class='emim-font emim-font-hover emim-friend-tab' tab='friend' ms-click='toggle'>a</li>
        <li class='emim-font emim-font-hover emim-group-tab' tab='group' ms-click='toggle'>b</li>
        <li class='emim-font emim-font-hover emim-stranger-tab' tab='stranger' ms-click='toggle'>c</li>
    </ol>
    </script>

    <!-- 联系人列表 -->
    <script id='emimList' type='tpl'>
    <div ms-controller='tabList'>
        <div ms-visible='friendDisplay'>
            <div ms-repeat-item='friend' ms-include='emimContact'></div>
        </div>
        <div ms-visible='groupDisplay'>
            <div ms-repeat-item='group' ms-include='emimContact'></div>
        </div>
        <div ms-visible='strangerDisplay'>
            <div ms-repeat-item='stranger' ms-include='emimContact'></div>
        </div>
    </div>
    </script>

    <!-- 联系人 -->
    <script id='emimContact' type='tpl'>
    <div class='emim-contact' ms-controller='contact' ms-click='select'>
        <img class='emim-avatar emim-contact-avatar' ms-attr-src='item.src' />
        <span class='emim-contact-username'>{{item.name}}</span>
        <span class='emim-contact-msg'>{{item.msg}}</span>
        <span class='emim-contact-count' ms-isvisible='display'></span>
    </div>
    </script>

    <!-- 消息发送区 -->
    <script id='emimSendWrapper' type='tpl'>
    <div class='chat02_title'>
        <span class='emim-font emim-font-hover' ms-onclick='showFace' title='选择表情'>d</span>
        <span class='emim-font emim-font-hover' fn='img' ms-onclick='sendfile' title='选择图片'>e</span>
        <span class='emim-font emim-font-hover' fn='audio' ms-onclick='sendfile' title='选择语音'>f</span>
    </div>
    <ul id="emotionUL"></ul>
    <textarea id="talkInputId"></textarea>
    <button onclick="sendText()">发送</button>
    </script>

    <!-- Dialog -->
    <div ms-controller='dialog' class='emim-dialog' ms-visible='display'>
        <p class='emim-dialog-title'>{{title}}</p>
        <div class='emim-dialog-content'>{{content}}</div>
        <button class='emim-dialog-cancel' ms-click='cancel'>取消</button>
        <button class='emim-dialog-ok' ms-click='ok'>确定</button>
    </div>

    <!-- 群组成员界面 -->
    <script id='emimGroupMember' type='tpl'>
    <div id="option-room-div-modal" class="">
        <button type="button" class="close">×</button>
        <div class="modal-header">
            <h3>群组成员</h3>
        </div>
        <div class="modal-body">
            <div id="room-member-list"></div>
        </div>
    </div>
    </script>

    <!--layer-->
    <div class='emim-layer' ms-visible='display' ms-controller='layer'></div>
    <!--
    <div id="addFridentModal" class="">
        <div class="modal-header">
            <button type="button" class="close">×</button>
            <h3>添加好友</h3>
        </div>
        <div class="modal-body">
            <input id="addfridentId" onfocus="clearInputValue(&quot;addfridentId&quot;)">
            <div id="add-frident-warning"></div>
        </div>
        <div class="modal-footer">
            <button id="addFridend" class="" onclick="startAddFriend()">添加</button>
            <button id="cancelAddFridend" class="btn">取消</button>
        </div>
    </div>

    <div id="delFridentModal" class="">
        <div class="modal-header">
            <button type="button" class="close">×</button>
            <h3>删除好友</h3>
        </div>
        <div class="modal-body">
            <input id="delfridentId" onfocus="clearInputValue(&quot;delfridentId&quot;)">
            <div id="del-frident-warning"></div>
        </div>
        <div class="modal-footer">
            <button id="delFridend" class="" onclick="directDelFriend()">删除</button>
            <button id="canceldelFridend" class="">取消</button>
        </div>
    </div>-->

    <!-- 一般消息通知
    <div id="notice-block-div" class="modal hide">
        <button type="button" class="close">×</button>
        <div class="modal-body">
            <h4>Warning!</h4>
            <div id="notice-block-body"></div>
        </div>
    </div> -->

    <!-- 确认消息通知
    <div id="confirm-block-div-modal" class="">
        <div class="modal-header">
            <h3>订阅通知</h3>
        </div>
        <div class="modal-body">
            <div id="confirm-block-footer-body"></div>
        </div>
        <div class="modal-footer">
            <button id="confirm-block-footer-confirmButton" class="">同意</button>
            <button id="confirm-block-footer-cancelButton" class="">拒绝</button>
        </div>
    </div> -->
</body>
</html>
